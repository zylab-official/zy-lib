import { Component, HostListener, Input } from '@angular/core';
import { ButtonComponentBase } from '../shared/components/button/button.component.base';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
function SplitButtonComponent_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1, "\u25BE");
    i0.ɵɵelementContainerEnd();
} }
function SplitButtonComponent_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtext(1, "\u25B4");
    i0.ɵɵelementContainerEnd();
} }
function SplitButtonComponent_ng_container_7_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r6 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 7);
    i0.ɵɵelementStart(1, "button", 8);
    i0.ɵɵlistener("click", function SplitButtonComponent_ng_container_7_div_2_Template_button_click_1_listener($event) { i0.ɵɵrestoreView(_r6); const item_r4 = ctx.$implicit; const ctx_r5 = i0.ɵɵnextContext(2); item_r4.onClick && item_r4.onClick($event); return ctx_r5.selectHandler($event, true); });
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const item_r4 = ctx.$implicit;
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("disabled", item_r4.isDisabled || !item_r4.onClick);
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(item_r4.title);
} }
function SplitButtonComponent_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 5);
    i0.ɵɵtemplate(2, SplitButtonComponent_ng_container_7_div_2_Template, 3, 2, "div", 6);
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance(2);
    i0.ɵɵproperty("ngForOf", ctx_r2.items);
} }
const _c0 = function (a0) { return { "is-secondary": a0 }; };
const _c1 = ["*"];
export class SplitButtonComponent extends ButtonComponentBase {
    constructor(elementRef) {
        super();
        this.elementRef = elementRef;
        this.items = [];
        this.isSplitClosed = true;
    }
    DocumentClick(event) {
        if (!this.elementRef.nativeElement.contains(event.target)) {
            this.selectHandler(event, true);
        }
    }
    clickHandler(e) {
        if (this.isLoading)
            return;
        this.selectHandler(e, true);
        this.onClick.emit(e);
    }
    selectHandler(e, close) {
        this.isSplitClosed = close || !this.isSplitClosed;
        if (!this.isSplitClosed)
            this.animateSubMenu();
    }
    animateSubMenu() {
        if (this._animationTimer)
            clearTimeout(this._animationTimer);
        this._animationTimer = setTimeout(() => {
            var _a;
            (_a = this.elementRef.nativeElement.querySelector('.sub-menu')) === null || _a === void 0 ? void 0 : _a.classList.add('is-opening');
        }, 0);
    }
}
SplitButtonComponent.ɵfac = function SplitButtonComponent_Factory(t) { return new (t || SplitButtonComponent)(i0.ɵɵdirectiveInject(i0.ElementRef)); };
SplitButtonComponent.ɵcmp = i0.ɵɵdefineComponent({ type: SplitButtonComponent, selectors: [["zy-split-button"]], hostBindings: function SplitButtonComponent_HostBindings(rf, ctx) { if (rf & 1) {
        i0.ɵɵlistener("click", function SplitButtonComponent_click_HostBindingHandler($event) { return ctx.DocumentClick($event); }, false, i0.ɵɵresolveDocument);
    } }, inputs: { items: "items" }, features: [i0.ɵɵInheritDefinitionFeature], ngContentSelectors: _c1, decls: 8, vars: 8, consts: [[1, "zy-split-button", 3, "ngClass"], [1, "zy-split-button__wrapper"], [1, "zy-split-button__left-part", 3, "disabled", "click"], [1, "zy-split-button__right-part", 3, "disabled", "click"], [4, "ngIf"], [1, "sub-menu"], ["class", "sub-menu__item item", 4, "ngFor", "ngForOf"], [1, "sub-menu__item", "item"], [1, "item__button", 3, "disabled", "click"]], template: function SplitButtonComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵprojectionDef();
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵelementStart(1, "div", 1);
        i0.ɵɵelementStart(2, "button", 2);
        i0.ɵɵlistener("click", function SplitButtonComponent_Template_button_click_2_listener($event) { return ctx.clickHandler($event); });
        i0.ɵɵprojection(3);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(4, "button", 3);
        i0.ɵɵlistener("click", function SplitButtonComponent_Template_button_click_4_listener($event) { return ctx.selectHandler($event); });
        i0.ɵɵtemplate(5, SplitButtonComponent_ng_container_5_Template, 2, 0, "ng-container", 4);
        i0.ɵɵtemplate(6, SplitButtonComponent_ng_container_6_Template, 2, 0, "ng-container", 4);
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵtemplate(7, SplitButtonComponent_ng_container_7_Template, 3, 1, "ng-container", 4);
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(6, _c0, ctx.color === "secondary"));
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("disabled", ctx.isDisabled);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("disabled", ctx.isDisabled || !ctx.items.length);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.isSplitClosed);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", !ctx.isSplitClosed);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.items.length && !ctx.isSplitClosed);
    } }, directives: [i1.NgClass, i1.NgIf, i1.NgForOf], styles: ["[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-outlined[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]{display:inline-block;height:40px;border:none;line-height:1;font-weight:700;font-size:1.3em;text-align:center;outline:none;transition:background-color .15s ease-in-out;cursor:pointer}[_nghost-%COMP%]{font-size:10px}[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-outlined[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;box-sizing:border-box;padding:0 10px;width:127px;border-radius:5px;background-color:#2196f3;color:#fff}[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:hover{background-color:#1791f2}[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:active{background-color:#0d87e9}[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled{border:1px solid #ccc!important;cursor:default}[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled:active, [_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled:hover{background-color:#fff!important;color:#ccc!important}[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled:active   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled:active     [icon], [_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]:disabled:hover     [icon]{color:#ccc!important}[_nghost-%COMP%]   .zy-button__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]{background-color:#efeeea;color:#757575}[_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:hover{background-color:#ebe9e4}[_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:active{background-color:#e6e5de}[_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled{border:1px solid #ccc!important;cursor:default}[_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled:active, [_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled:hover{background-color:#fff!important;color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled:active   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled:active     [icon], [_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-secondary[_ngcontent-%COMP%]:disabled:hover     [icon]{color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]{width:40px;border-radius:50%;font-size:1.4em}[_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled{border:1px solid #ccc!important;cursor:default}[_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled:active, [_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled:hover{background-color:#fff!important;color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled:active   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled:active     [icon], [_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]:disabled:hover     [icon]{color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]     [icon]+.title, [_nghost-%COMP%]   .zy-button.is-round[_ngcontent-%COMP%]     zy-loader+.title{margin-left:0}[_nghost-%COMP%]   .zy-button.is-outlined[_ngcontent-%COMP%]{border:1px solid #2196f3;background-color:#bbdefb;color:#2196f3}[_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]{border-color:#9e9e9e;background-color:#efeeea;color:#757575}[_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:hover{background-color:#ebe9e4}[_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:active{background-color:#e2e0d9}[_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled{border:1px solid #ccc!important;cursor:default}[_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled:active, [_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled:hover{background-color:#fff!important;color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled:active   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled:active     [icon], [_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-outlined.is-secondary[_ngcontent-%COMP%]:disabled:hover     [icon]{color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]{background-color:transparent;color:#2196f3}[_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]     [icon]{transition:color .15s ease-in-out}[_nghost-%COMP%]   .zy-button.is-ghost.is-secondary[_ngcontent-%COMP%]{background-color:transparent;color:#757575}[_nghost-%COMP%]   .zy-button.is-ghost.is-secondary[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-ghost.is-secondary[_ngcontent-%COMP%]:hover     [icon]{color:#5c5c5c}[_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:hover     [icon]{color:#0c7cd5}[_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled{border:1px solid #ccc!important;cursor:default}[_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled:active, [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled:hover{background-color:#fff!important;color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled:active   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled:active     [icon], [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled:hover     [icon]{color:#ccc!important}[_nghost-%COMP%]   .zy-button.is-ghost[_ngcontent-%COMP%]:disabled{border:none!important;background-color:transparent!important}[_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]     [icon]+.title, [_nghost-%COMP%]   .zy-button[_ngcontent-%COMP%]     zy-loader+.title{margin-left:10px}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]{position:relative;z-index:20;display:inline-block;color:#fff}[_nghost-%COMP%]   .zy-split-button__wrapper[_ngcontent-%COMP%]{position:relative;z-index:30;display:flex;align-items:center}[_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]{padding:0 10px;width:127px;border-radius:5px 0 0 5px;background-color:#2196f3;color:inherit;font-size:1.3em}[_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:hover{background-color:#1791f2}[_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:active{background-color:#0e8df2}[_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:disabled{border:1px solid #ccc!important;background-color:#fff!important;color:#ccc!important;cursor:default}[_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:disabled:active, [_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:disabled:hover, [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:disabled:active, [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:disabled:hover{background-color:#fff!important;color:#ccc!important}[_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:disabled:active   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:disabled:active     [icon], [_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:disabled:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:disabled:hover     [icon], [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:disabled:active   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:disabled:active     [icon], [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:disabled:hover   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:disabled:hover     [icon]{color:#ccc!important}[_nghost-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]{width:40px;border-radius:0 5px 5px 0;border-left:1px solid #fff;font-size:1.8em}[_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]{color:#757575}[_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%], [_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]{background-color:#efeeea}[_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:hover{background-color:#ebe9e4}[_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__left-part[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:active{background-color:#e2e0d9}[_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]{background-color:#efeeea}[_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:hover{background-color:#ebe9e4}[_nghost-%COMP%]   .zy-split-button.is-secondary[_ngcontent-%COMP%]   .zy-split-button__right-part[_ngcontent-%COMP%]:active{background-color:#e2e0d9}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:10;box-sizing:border-box;margin-top:-10px;width:100%;color:#000;border:1px solid #ccc;border-radius:3px;font-size:1.3em;line-height:1;transform:translateY(-7px);opacity:.45;transition:all .15s ease-in-out}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu.is-opening[_ngcontent-%COMP%]{transform:translateY(7px);opacity:1}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu__item[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #ccc}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu__item[_ngcontent-%COMP%]:last-child{border-bottom:none}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]{display:block;padding:10px 5px;margin:0;width:100%;background:none;background-color:#fff;border:none;transition:background-color .15s ease-in-out;outline:none;cursor:pointer}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,80%,.56)}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]:active{background-color:#cbcbcb}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   .item__button[disabled][_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]   .zy-split-button[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   .item__button[disabled][_ngcontent-%COMP%]:hover{background-color:#fff}"] });
/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(SplitButtonComponent, [{
        type: Component,
        args: [{
                selector: 'zy-split-button',
                templateUrl: './split-button.component.html',
                styleUrls: ['./split-button.component.scss']
            }]
    }], function () { return [{ type: i0.ElementRef }]; }, { DocumentClick: [{
            type: HostListener,
            args: ['document:click', ['$event']]
        }], items: [{
            type: Input
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BsaXQtYnV0dG9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3p5LWxpYi9zcmMvbGliL3NwbGl0LWJ1dHRvbi9zcGxpdC1idXR0b24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvenktbGliL3NyYy9saWIvc3BsaXQtYnV0dG9uL3NwbGl0LWJ1dHRvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFjLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0UsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sbURBQW1ELENBQUM7Ozs7SUNNNUUsNkJBQW9DO0lBQUEsc0JBQU87SUFBQSwwQkFBZTs7O0lBQzFELDZCQUFxQztJQUFBLHNCQUFPO0lBQUEsMEJBQWU7Ozs7SUFLM0QsOEJBQ0k7SUFBQSxpQ0FDaUY7SUFBN0Usa09BQXlCLHVCQUFxQixzQ0FBd0IsSUFBSSxLQUFFO0lBQUMsWUFBZ0I7SUFBQSxpQkFBUztJQUM5RyxpQkFBTTs7O0lBRjJCLGVBQTZDO0lBQTdDLGlFQUE2QztJQUNPLGVBQWdCO0lBQWhCLG1DQUFnQjs7O0lBSjdHLDZCQUNJO0lBQUEsOEJBQ0k7SUFBQSxvRkFHTTtJQUNWLGlCQUFNO0lBQ1YsMEJBQWU7OztJQUxlLGVBQVE7SUFBUixzQ0FBUTs7OztBREoxQyxNQUFNLE9BQU8sb0JBQXFCLFNBQVEsbUJBQW1CO0lBY3pELFlBQ1ksVUFBc0I7UUFFOUIsS0FBSyxFQUFFLENBQUM7UUFGQSxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBUHpCLFVBQUssR0FBc0IsRUFBRSxDQUFDO1FBRXZDLGtCQUFhLEdBQUcsSUFBSSxDQUFDO0lBUXJCLENBQUM7SUFoQkQsYUFBYSxDQUFDLEtBQVk7UUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDdkQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDbkM7SUFDTCxDQUFDO0lBY0QsWUFBWSxDQUFDLENBQVE7UUFDakIsSUFBSSxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFFM0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVELGFBQWEsQ0FBQyxDQUFRLEVBQUUsS0FBZTtRQUNuQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7UUFFbEQsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhO1lBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ25ELENBQUM7SUFFTyxjQUFjO1FBQ2xCLElBQUksSUFBSSxDQUFDLGVBQWU7WUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBRTdELElBQUksQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRTs7WUFDbkMsTUFBQSxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLDBDQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFO1FBQzFGLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNWLENBQUM7O3dGQXZDUSxvQkFBb0I7eURBQXBCLG9CQUFvQjt1R0FBcEIseUJBQXFCOzs7UUNUbEMsOEJBQ0k7UUFBQSw4QkFDSTtRQUFBLGlDQUNJO1FBRHVDLHVHQUFTLHdCQUFvQixJQUFDO1FBQ3JFLGtCQUF5QjtRQUM3QixpQkFBUztRQUNULGlDQUVJO1FBRndDLHVHQUFTLHlCQUFxQixJQUFDO1FBRXZFLHVGQUEwRDtRQUMxRCx1RkFBMkQ7UUFDL0QsaUJBQVM7UUFDYixpQkFBTTtRQUNOLHVGQU9lO1FBQ25CLGlCQUFNOztRQW5CdUIsK0VBQXFEO1FBRUEsZUFBdUI7UUFBdkIseUNBQXVCO1FBSTdGLGVBQXdDO1FBQXhDLDhEQUF3QztRQUN6QixlQUFtQjtRQUFuQix3Q0FBbUI7UUFDbkIsZUFBb0I7UUFBcEIseUNBQW9CO1FBRzVCLGVBQW9DO1FBQXBDLDZEQUFvQzs7a0RERjFDLG9CQUFvQjtjQUxoQyxTQUFTO2VBQUM7Z0JBQ1AsUUFBUSxFQUFFLGlCQUFpQjtnQkFDM0IsV0FBVyxFQUFFLCtCQUErQjtnQkFDNUMsU0FBUyxFQUFFLENBQUMsK0JBQStCLENBQUM7YUFDL0M7NkRBR0csYUFBYTtrQkFEWixZQUFZO21CQUFDLGdCQUFnQixFQUFFLENBQUMsUUFBUSxDQUFDO1lBT2pDLEtBQUs7a0JBQWIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSG9zdExpc3RlbmVyLCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50QmFzZSB9IGZyb20gJy4uL3NoYXJlZC9jb21wb25lbnRzL2J1dHRvbi9idXR0b24uY29tcG9uZW50LmJhc2UnO1xuaW1wb3J0IHsgU3BsaXRCdXR0b25JdGVtIH0gZnJvbSAnLi9tb2RlbHMvc3BsaXQtYnV0dG9uLWl0ZW0uaW50ZXJmYWNlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd6eS1zcGxpdC1idXR0b24nLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9zcGxpdC1idXR0b24uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3NwbGl0LWJ1dHRvbi5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFNwbGl0QnV0dG9uQ29tcG9uZW50IGV4dGVuZHMgQnV0dG9uQ29tcG9uZW50QmFzZSB7XG4gICAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6Y2xpY2snLCBbJyRldmVudCddKVxuICAgIERvY3VtZW50Q2xpY2soZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RIYW5kbGVyKGV2ZW50LCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBJbnB1dCgpIGl0ZW1zOiBTcGxpdEJ1dHRvbkl0ZW1bXSA9IFtdO1xuXG4gICAgaXNTcGxpdENsb3NlZCA9IHRydWU7XG5cbiAgICBwcml2YXRlIF9hbmltYXRpb25UaW1lcjogYW55O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZlxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGNsaWNrSGFuZGxlcihlOiBFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHJldHVybjtcblxuICAgICAgICB0aGlzLnNlbGVjdEhhbmRsZXIoZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMub25DbGljay5lbWl0KGUpO1xuICAgIH1cblxuICAgIHNlbGVjdEhhbmRsZXIoZTogRXZlbnQsIGNsb3NlPzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzU3BsaXRDbG9zZWQgPSBjbG9zZSB8fCAhdGhpcy5pc1NwbGl0Q2xvc2VkO1xuXG4gICAgICAgIGlmICghdGhpcy5pc1NwbGl0Q2xvc2VkKSB0aGlzLmFuaW1hdGVTdWJNZW51KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhbmltYXRlU3ViTWVudSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGlvblRpbWVyKSBjbGVhclRpbWVvdXQodGhpcy5fYW5pbWF0aW9uVGltZXIpO1xuXG4gICAgICAgIHRoaXMuX2FuaW1hdGlvblRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3ViLW1lbnUnKT8uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbmluZycpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG59IiwiPGRpdiBjbGFzcz1cInp5LXNwbGl0LWJ1dHRvblwiIFtuZ0NsYXNzXT1cInsgJ2lzLXNlY29uZGFyeSc6IGNvbG9yID09PSAnc2Vjb25kYXJ5JyB9XCI+XG4gICAgPGRpdiBjbGFzcz1cInp5LXNwbGl0LWJ1dHRvbl9fd3JhcHBlclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwienktc3BsaXQtYnV0dG9uX19sZWZ0LXBhcnRcIiAoY2xpY2spPVwiY2xpY2tIYW5kbGVyKCRldmVudClcIiBbZGlzYWJsZWRdPVwiaXNEaXNhYmxlZFwiPlxuICAgICAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInp5LXNwbGl0LWJ1dHRvbl9fcmlnaHQtcGFydFwiIChjbGljayk9XCJzZWxlY3RIYW5kbGVyKCRldmVudClcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImlzRGlzYWJsZWQgfHwgIWl0ZW1zLmxlbmd0aFwiPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzU3BsaXRDbG9zZWRcIj4mIzk2NjI7PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiIWlzU3BsaXRDbG9zZWRcIj4mIzk2NTI7PC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpdGVtcy5sZW5ndGggJiYgIWlzU3BsaXRDbG9zZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN1Yi1tZW51XCI+XG4gICAgICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBpdGVtIG9mIGl0ZW1zXCIgY2xhc3M9XCJzdWItbWVudV9faXRlbSBpdGVtXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIml0ZW1fX2J1dHRvblwiIFtkaXNhYmxlZF09XCJpdGVtLmlzRGlzYWJsZWQgfHwgIWl0ZW0ub25DbGlja1wiXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJpdGVtLm9uQ2xpY2sgJiYgaXRlbS5vbkNsaWNrISgkZXZlbnQpOyBzZWxlY3RIYW5kbGVyKCRldmVudCwgdHJ1ZSlcIj57eyBpdGVtLnRpdGxlIH19PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9uZy1jb250YWluZXI+XG48L2Rpdj4iXX0=